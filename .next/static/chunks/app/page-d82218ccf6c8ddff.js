(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6830:function(e,l,n){Promise.resolve().then(n.bind(n,1629))},1629:function(e,l,n){"use strict";n.r(l),n.d(l,{default:function(){return Y}});var a=n(9268),t=n(6006),s=n(6394),o=n.n(s),i=n(102);let r=e=>{let{children:l,onClick:n,variant:t="outlined",className:s="",disabled:o=!1}=e;return(0,a.jsx)(i.Z,{variant:t,onClick:n,className:s,sx:{borderRadius:0,":hover":{bgcolor:"#ed1c24",color:"white"}},disabled:o,children:l})};var d=n(9244),c=n(1856),u=n(4408),x=n(8913),m=function(e){let{dropDownOptions:l,selectedOption:n,onChange:t}=e;return(0,a.jsxs)(d.Z,{className:"w-[300px] outline-[#ed1c24]",children:[(0,a.jsx)(u.Z,{id:"demo-simple-select-label",children:"Select a cause"}),(0,a.jsx)(c.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:n,label:"Select a cause",onChange:e=>t(e),children:l.map(e=>{let{id:l,label:n,value:t}=e;return(0,a.jsx)(x.Z,{value:t,children:n},l)})})]})},h=n(7735),p=n(6530),v=n(5819),j=n(4200),f=n(8181),y=n(9207),b=n(9346),N=n(1692),g=n(4175),C=n(783),w=n(4763),Z=n(6163),A=n(7467),E=n(1532),S=n(6610),k=function(e){let{formLabel:l,radioOptions:n,onChange:t,selectedOption:s}=e;return(0,a.jsxs)(d.Z,{children:[(0,a.jsx)(A.Z,{id:"demo-row-radio-buttons-group-label",children:l}),(0,a.jsx)(S.Z,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",className:"md:space-x-[40px]",children:n.map(e=>{let{label:l,value:n}=e;return(0,a.jsx)(w.Z,{value:n,control:(0,a.jsx)(E.Z,{sx:{"&.Mui-checked":{color:"#ed1c24"}},onChange:()=>t(n),checked:s===n}),label:l},n)})})]})},D=n(6601);let P=["ONE TIME","MONTHLY"],O=["KES","USD"],F=e=>{let{processingFee:l,currency:n}=e;return(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Please add"," ",(0,a.jsx)("span",{className:"text-[#ed1c24]",children:"".concat(n," ").concat(l)})," to cover processing fees & other expenses associated with my donation"]})},M=e=>{let{}=e,[l,n]=(0,t.useState)(0),[s,o]=(0,t.useState)(!1),{donationFormDetails:i,setDonateAs:d,setSelectedCurrency:c,setDonationOption:u,toggleHandleProcessingFee:x,setDonationAmount:m}=(0,t.useContext)(D.DonationFormContext);return(0,a.jsxs)("div",{className:"py-[10px] md:py-[50px] md:px-5 flex flex-col space-y-[20px] md:space-y-[30px]",children:[(0,a.jsx)(k,{formLabel:"Select donate as",radioOptions:[{label:"Individual",value:"individual"},{label:"Company",value:"company"}],onChange:e=>d(e),selectedOption:null==i?void 0:i.donateAs}),(0,a.jsx)(k,{formLabel:"Select donation option",radioOptions:[{label:"Donate Now",value:"donate-now"},{label:"Make a Pledge",value:"make-pledge"}],onChange:e=>u(e),selectedOption:null==i?void 0:i.donationOption}),(null==i?void 0:i.donationOption)!=="donate-now"&&(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(y.Z,{value:l,onChange:(e,l)=>{n(l)},"aria-label":"basic tabs example",className:"flex w-full",children:P.map(e=>(0,a.jsx)(b.Z,{className:"flex-auto",label:e},e))})})}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("p",{className:"flex text-sm text-gray-500 mb-[10px]",children:"Toggle currency"}),(0,a.jsx)(N.Z,{variant:"outlined","aria-label":"button group",children:O.map(e=>(0,a.jsx)(r,{className:"".concat(e===(null==i?void 0:i.selectedCurrency)&&"bg-[#ed1c24] text-white hover:bg-[#ed1c24]"||""),onClick:()=>{c(e),m("")},children:e},e))})]})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(null==i?void 0:i.recommended.length)===0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"my-[20px] text-gray-600",children:"Donation amount"}),(0,a.jsx)(g.Z,{placeholder:"Enter amount",value:null==i?void 0:i.donationAmount,onChange:e=>m(e.target.value)})]}),i&&i.recommended.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"mb-[10px] text-gray-600",children:"Select an amount"}),(0,a.jsx)("div",{className:"flex flex-wrap space-x-2",children:null==i?void 0:i.recommended.map(e=>(0,a.jsx)("div",{className:"flex mb-[10px]",children:(0,a.jsx)(r,{className:"min-w-[100px] ".concat(e===(null==i?void 0:i.donationAmount)&&"bg-[#ed1c24] text-white hover:bg-[#ed1c24]"||""),variant:"outlined",onClick:()=>{"Other"===e?(o(!0),m("")):(o(!1),m(e.toString()))},children:(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"hidden md:inline-block",children:"".concat("Other"===e?"":null==i?void 0:i.selectedCurrency," ")}),e]})})},e))}),(0,a.jsx)("div",{className:"mt-[20px]",children:s&&(0,a.jsx)(g.Z,{placeholder:"Enter amount",value:null==i?void 0:i.donationAmount,onChange:e=>m(e.target.value)})})]})]}),(null==i?void 0:i.donationAmount)&&(0,a.jsx)("div",{children:(0,a.jsx)(C.Z,{children:(0,a.jsx)(w.Z,{control:(0,a.jsx)(Z.Z,{onClick:x,checked:null==i?void 0:i.handleProcessingFee}),label:(0,a.jsx)(F,{processingFee:null==i?void 0:i.processingFee,currency:null==i?void 0:i.selectedCurrency})})})})]})};var T=n(2171);let K=e=>{let{}=e,{donationFormDetails:l,setDonateAnonymously:n,setFirstName:s,setLastName:o,setCompanyName:i,setAddress:r,setCountry:m,setCounty:h,setEmail:p,setPhoneNumber:v}=(0,t.useContext)(D.DonationFormContext);return(0,a.jsxs)("div",{className:"p-[30px] flex flex-col space-y-[40px]",children:[(0,a.jsx)("div",{children:(0,a.jsx)(C.Z,{children:(0,a.jsx)(w.Z,{control:(0,a.jsx)(Z.Z,{checked:null==l?void 0:l.donateAnonymously,onClick:n}),label:"Donate anonymously"})})}),!(null==l?void 0:l.donateAnonymously)&&(0,a.jsxs)(C.Z,{className:"space-y-[40px]",children:[(null==l?void 0:l.donateAs)==="company"&&(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)(T.Z,{label:"Company name",placeholder:"Enter company name",variant:"standard",fullWidth:!0,value:null==l?void 0:l.companyName,onChange:e=>{i(e.target.value)}})}),(0,a.jsxs)("div",{className:"flex justify-between space-x-5",children:[(0,a.jsx)(T.Z,{label:"First name",placeholder:"Enter first name",variant:"standard",className:"flex-1",value:null==l?void 0:l.firstName,onChange:e=>{s(e.target.value)}}),(0,a.jsx)(T.Z,{label:"Last name",placeholder:"Enter last name",variant:"standard",className:"flex-1",value:null==l?void 0:l.lastName,onChange:e=>{o(e.target.value)}})]}),(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)(T.Z,{label:"Email",placeholder:"Enter email",variant:"standard",fullWidth:!0,type:"email",value:null==l?void 0:l.email,onChange:e=>{p(e.target.value)}})}),(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)(T.Z,{label:"Phone",placeholder:"Enter phone",variant:"standard",fullWidth:!0,value:null==l?void 0:l.phoneNumber,onChange:e=>{v(e.target.value)}})}),(0,a.jsxs)("div",{className:"flex justify-between space-x-5",children:[(0,a.jsxs)(d.Z,{variant:"standard",className:"flex-1 ",children:[(0,a.jsx)(u.Z,{id:"demo-simple-select-standard-label",children:"Country"}),(0,a.jsx)(c.Z,{label:"Country",placeholder:"Enter Country",variant:"standard",fullWidth:!0,value:null==l?void 0:l.country,onChange:e=>{m(e.target.value)},children:[{value:"KE",label:"Kenya"},{value:"US",label:"United States"},{value:"CA",label:"Canada"},{value:"AU",label:"Australia"},{value:"BR",label:"Brazil"},{value:"IN",label:"India"},{value:"GB",label:"United Kingdom"},{value:"NZ",label:"New Zealand"},{value:"SG",label:"Singapore"},{value:"JP",label:"Japan"}].map(e=>{let{label:l,value:n}=e;return(0,a.jsx)(x.Z,{value:n,children:l},n)})})]}),(null==l?void 0:l.country)==="KE"&&(0,a.jsxs)(d.Z,{variant:"standard",className:"flex-1",children:[(0,a.jsx)(u.Z,{id:"demo-simple-select-standard-label",children:"County/Region/State"}),(0,a.jsx)(c.Z,{label:"County/Region/State",placeholder:"Enter County/Region/State",variant:"standard",value:null==l?void 0:l.county,onChange:e=>{h(e.target.value)},fullWidth:!0})]})]}),(0,a.jsx)("div",{className:"flex mb-[40px]",children:(0,a.jsx)(T.Z,{label:"Physical address",placeholder:"Enter physical address",variant:"standard",fullWidth:!0,value:null==l?void 0:l.address,onChange:e=>{r(e.target.value)}})})]})]})},R=["Mpesa","Card","Airtel Money","TKash"],I=e=>{let{}=e,{donationFormDetails:l,setPaymentOption:n,setDonationAmount:s,setPhoneNumber:o}=(0,t.useContext)(D.DonationFormContext);return(0,a.jsxs)("div",{className:"space-y-[40px]",children:[(0,a.jsx)("div",{className:"max-w-[300px] md:max-w-none mt-[20px]",children:(0,a.jsx)(y.Z,{value:null==l?void 0:l.paymentOption,variant:"scrollable",scrollButtons:!0,allowScrollButtonsMobile:!0,children:R.map(e=>(0,a.jsx)(b.Z,{label:e,value:e,onClick:()=>n(e)},e))})}),(null==l?void 0:l.paymentOption)==="Mpesa"&&(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)("div",{className:"flex flex-col justify-center space-y-[40px] w-[300px]",children:[(0,a.jsx)(T.Z,{label:"Enter Mpesa Number",placeholder:"Enter Mpesa number",variant:"standard",value:null==l?void 0:l.phoneNumber,onChange:e=>{o(e.target.value)}}),(0,a.jsx)(T.Z,{label:"Amount",placeholder:"Enter amount",variant:"standard",value:"".concat((null==l?void 0:l.handleProcessingFee)?null==l?void 0:l.totalDonationAmount:null==l?void 0:l.donationAmount),onChange:e=>{s(e.target.value)}})]})}),(null==l?void 0:l.paymentOption)==="Airtel Money"&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"To make payment, follow these steps:"}),(0,a.jsx)("div",{className:"flex p-[20px]",children:(0,a.jsxs)("ol",{className:"text-gray-500 mt-[20px] list-outside list-decimal",children:[(0,a.jsx)("li",{children:"Go to Airtel on your phone."}),(0,a.jsx)("li",{children:"Select 'Send Money'."}),(0,a.jsx)("li",{children:"Enter 'Nick Name': Redcross."}),(0,a.jsx)("li",{children:"Enter your Airtel PIN."}),(0,a.jsx)("li",{children:"Enter the reference: leave it blank."}),(0,a.jsx)("li",{children:"You will receive an SMS from Airtel."})]})})]}),(null==l?void 0:l.paymentOption)==="TKash"&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"To make payment, follow these steps:"}),(0,a.jsx)("div",{className:"flex p-[20px]",children:(0,a.jsxs)("ol",{className:"text-gray-500 mt-[20px] list-outside list-decimal",children:[(0,a.jsx)("li",{children:"Go to Tkash menu on your phone or Use the T-kash App."}),(0,a.jsx)("li",{children:"Select “Paybill”"}),(0,a.jsx)("li",{children:"Select “T-kash Paybill”."}),(0,a.jsx)("li",{children:"Enter “Paybill Number”"}),(0,a.jsx)("li",{children:"Enter “Campaign”"}),(0,a.jsxs)("li",{children:["Enter"," ","".concat((null==l?void 0:l.handleProcessingFee)?null==l?void 0:l.totalDonationAmount:null==l?void 0:l.donationAmount)]}),(0,a.jsx)("li",{children:"Confirm transaction."}),(0,a.jsx)("li",{children:"Enter T-kash PIN."}),(0,a.jsx)("li",{children:"You will receive a confirmation SMS from T-kash."})]})})]})]})};var B=n(3467);let L=["Cause","Amount","Donate","Pay"];var U=function(e){let{step:l,onContinue:n,onBack:s}=e,{donationFormDetails:o}=(0,t.useContext)(D.DonationFormContext),{selectedCause:i}=(0,t.useContext)(B.RedcrossCausesContext);return(0,a.jsxs)("div",{className:"flex flex-col justify-between",children:[(0,a.jsxs)("div",{className:"sticky top-0 z-50 bg-white",children:[(0,a.jsx)(h.Z,{activeStep:l,alternativeLabel:!0,className:"px-[10px] py-[20px]",children:L.map(e=>(0,a.jsx)(p.Z,{children:(0,a.jsx)(v.Z,{children:e})},e))}),(0,a.jsx)(j.Z,{})]}),(0,a.jsxs)("div",{className:"",children:[1===l&&(0,a.jsx)(M,{}),2===l&&(0,a.jsx)(K,{}),3===l&&(0,a.jsx)(I,{})]}),(0,a.jsxs)("div",{className:"sticky bottom-0 z-50 bg-white",children:[(0,a.jsx)(j.Z,{}),(0,a.jsxs)(f.Z,{className:"flex flex-col p-5",children:[(0,a.jsx)("div",{className:"flex text-left",children:2===l&&(0,a.jsxs)("p",{className:"mb-5 text-sm text-gray-500",children:["You are donating",(0,a.jsx)("span",{className:"text-[#ed1c24]",children:" ".concat(null==o?void 0:o.selectedCurrency," ").concat((null==o?void 0:o.handleProcessingFee)?null==o?void 0:o.totalDonationAmount:null==o?void 0:o.donationAmount)})," ","to ".concat(null==i?void 0:i.label)]})}),(0,a.jsxs)("div",{className:"flex flex-row justify-between w-full",children:[(0,a.jsx)("div",{children:(0,a.jsx)(r,{className:"px-[10px] justify-start",variant:"outlined",onClick:s,children:"Back"})}),(0,a.jsx)("div",{children:(0,a.jsx)(r,{className:"px-[10px] bg-[#ed1c24] text-white hover:bg-[#ed1c24]",onClick:n,children:3!==l?"Continue":"Donate ".concat(null==o?void 0:o.selectedCurrency," ").concat((null==o?void 0:o.handleProcessingFee)?null==o?void 0:o.totalDonationAmount:null==o?void 0:o.donationAmount)})})]})]})]})]})},W=n(1947),_=n(2516);let z=(0,_.Z)({palette:{primary:{main:"#ed1c24"},secondary:{main:"#f8f9fa"}}});function Y(){let e="Donate today to support humanitarian work around Kenya. In times\n								of crisis, we meet the urgent needs of women, men, young and the\n								old. Help enable a rapid response to disasters. Your\n								contribution can make a difference.",{redCrossCauses:l,selectedCause:n,onRedCrossCauseSelect:s}=(0,t.useContext)(B.RedcrossCausesContext),[i,d]=(0,t.useState)(0),c=e=>{s(e.target.value)},u=()=>{i>=0&&i<3&&d(i+1)},x=()=>{i>=0&&i<4&&d(i-1)};return(0,a.jsx)(W.Z,{theme:z,children:(0,a.jsxs)("main",{className:"flex w-full bg-[#f8f9fa]",children:[(0,a.jsxs)("div",{className:"relative flex-col justify-center flex-1 hidden md:flex max-h-[650px] bg-[#f8f9fa] overflow-hidden",children:[(0,a.jsx)("div",{className:"flex justify-end w-full",children:(0,a.jsx)(o(),{className:"z-10 opacity-50",src:"/".concat((null==n?void 0:n.value)||"maasai",".jpg"),alt:"",height:600,width:400})}),n&&i>0&&(0,a.jsx)("div",{className:"z-20 absolute w-[400px] right-0 h-[400px] bg-[#ed1c24] text-white opacity-70 flex flex-col text-center justify-center",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl",children:"Support ".concat(null==n?void 0:n.label)}),(0,a.jsx)("p",{className:"px-5 mt-5",children:(null==n?void 0:n.description)||e})]})})]}),0===i&&(0,a.jsxs)("div",{className:"flex flex-col md:justify-center flex-1 text-center space-y-[50px] bg-white",children:[(0,a.jsxs)("div",{className:"bg-[#ed1c24] text-white p-[20px] md:p-[40px]",children:[(0,a.jsx)("h1",{className:"text-5xl",children:"Support ".concat((null==n?void 0:n.label)||"our Cause")}),(0,a.jsx)("p",{className:"px-5 mt-5",children:(null==n?void 0:n.description)||e})]}),(0,a.jsx)("div",{children:(0,a.jsx)(m,{dropDownOptions:l,selectedOption:(null==n?void 0:n.value)||"",onChange:c})}),(0,a.jsx)("div",{children:(0,a.jsx)(r,{className:"py-[10px] px-[40px]",onClick:u,disabled:!n,children:"Continue"})})]}),i>0&&(0,a.jsx)("div",{className:"flex flex-col flex-1 bg-white space-y-[20px] md:h-[650px] overflow-y-scroll px-10",children:(0,a.jsx)(U,{step:i,onBack:x,onContinue:u})})]})})}},6601:function(e,l,n){"use strict";n.r(l),n.d(l,{DonationFormContext:function(){return r}});var a=n(9268),t=n(6006),s=n(4214),o=n(3467);let i={donateAs:"individual",donationOption:"",selectedCurrency:"KES",handleProcessingFee:!1,donateAnonymously:!1,donationAmount:"",processingFee:"",totalDonationAmount:"",paymentOption:"Mpesa",companyName:"",firstName:"",lastName:"",email:"",phoneNumber:"",country:"KE",county:"",address:"",recommended:[]},r=(0,t.createContext)({donationFormDetails:i,setDonateAs:()=>{},setSelectedCurrency:()=>{},setDonationOption:()=>{},toggleHandleProcessingFee:()=>{},setDonateAnonymously:()=>{},setDonationAmount:()=>{},setPaymentOption:()=>{},setFirstName:()=>{},setLastName:()=>{},setCompanyName:()=>{},setEmail:()=>{},setPhoneNumber:()=>{},setCountry:()=>{},setCounty:()=>{},setAddress:()=>{}}),d=e=>{let{children:l}=e,[n,d]=(0,t.useState)(i),{selectedCause:c}=(0,t.useContext)(o.RedcrossCausesContext),u=(null==c?void 0:c.id)||"",x=e=>{d({...n,donateAs:e})},m=e=>{d({...n,selectedCurrency:e})},h=e=>{d({...n,donationOption:e})},p=()=>{d({...n,handleProcessingFee:!n.handleProcessingFee})},v=()=>{d({...n,donateAnonymously:!n.donateAnonymously})},j=e=>{d({...n,donationAmount:e})},f=e=>{d({...n,recommended:e})};(0,t.useEffect)(()=>{d({...i})},[]);let y=(0,t.useCallback)(e=>{d({...n,processingFee:e})},[n]),b=(0,t.useCallback)(e=>{d({...n,totalDonationAmount:e})},[n]),N=e=>{d({...n,paymentOption:e})},g=e=>{d({...n,companyName:e})},C=e=>{d({...n,firstName:e})},w=e=>{d({...n,lastName:e})},Z=e=>{d({...n,email:e})},A=e=>{d({...n,phoneNumber:e})},E=e=>{d({...n,country:e})},S=e=>{d({...n,county:e})},k=e=>{d({...n,address:e})},{donationAmount:D,handleProcessingFee:P,processingFee:O}=n;(0,t.useEffect)(()=>{if(D){let e=.1*Number(D);return y(e.toString())}},[D,y]),(0,t.useEffect)(()=>{if(P&&D)return b((Number(D)+Number(O)).toString())},[P,D,b,O]);let{selectedCurrency:F,donateAs:M}=n;return(0,t.useEffect)(()=>{let e=async()=>{try{let e=await s.Z.post("http://localhost:8800/api/recommended",{currency:"KES"===F?1:2,donorType:"individual"===M?1:2,campaignId:u}),{data:l}=e,n=[];if(l.forEach(e=>{let{Amount:l}=e;n.push(l)}),n.length>0)return f(n);return f([])}catch(e){console.error(e)}};e()},[F,M,u]),(0,a.jsx)(r.Provider,{value:{donationFormDetails:n,setDonateAs:x,setSelectedCurrency:m,setDonationOption:h,toggleHandleProcessingFee:p,setDonateAnonymously:v,setDonationAmount:j,setPaymentOption:N,setFirstName:C,setLastName:w,setCompanyName:g,setAddress:k,setCountry:E,setCounty:S,setEmail:Z,setPhoneNumber:A},children:l})};l.default=d},3467:function(e,l,n){"use strict";n.r(l),n.d(l,{RedcrossCausesContext:function(){return o}});var a=n(9268),t=n(6006),s=n(4214);let o=(0,t.createContext)({redCrossCauses:[],selectedCause:null,onRedCrossCauseSelect:()=>{}}),i=e=>{let{children:l}=e,[n,i]=(0,t.useState)([]),[r,d]=(0,t.useState)(null),c=e=>{let l=n.find(l=>l.value===e);return void 0!==l?d(l):d(null)};return(0,t.useEffect)(()=>{let e=async()=>{try{let e=await s.Z.get("http://localhost:8800/api/campaigns"),{data:l}=e,n=l.map(e=>{let{id:l,name:n,description:a,start_date:t,end_date:s}=e;return{id:l,label:n,value:n,description:a,startDate:t,endDate:s}});return console.log(n.length),i(n)}catch(e){console.error(e)}};e()},[]),(0,a.jsx)(o.Provider,{value:{redCrossCauses:n,selectedCause:r,onRedCrossCauseSelect:c},children:l})};l.default=i}},function(e){e.O(0,[342,246,667,139,744],function(){return e(e.s=6830)}),_N_E=e.O()}]);